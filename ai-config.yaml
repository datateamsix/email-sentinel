# Email Sentinel - AI Summary Configuration
#
# This file configures AI-powered email summarization features.
# Summaries include: brief overview, detected questions, and action items.

ai_summary:
  # Enable AI summarization (can be overridden with --ai-summary flag)
  enabled: false

  # AI Provider Configuration
  # Supported providers: "claude", "openai", "gemini"
  # Default: "gemini" (free tier available)
  provider: "gemini"

  # API Configuration
  api:
    # Claude (Anthropic) Configuration
    claude:
      api_key: ""  # Set via environment variable: ANTHROPIC_API_KEY
      model: "claude-3-5-haiku-20241022"  # Options: claude-3-5-sonnet-20241022, claude-3-5-haiku-20241022
      max_tokens: 1024
      temperature: 0.3  # Lower = more focused, higher = more creative

    # OpenAI Configuration
    openai:
      api_key: ""  # Set via environment variable: OPENAI_API_KEY
      model: "gpt-4o-mini"  # Options: gpt-4o, gpt-4o-mini, gpt-3.5-turbo
      max_tokens: 1024
      temperature: 0.3

    # Google Gemini Configuration
    gemini:
      api_key: ""  # Set via environment variable: GEMINI_API_KEY
      model: "gemini-1.5-flash"  # Options: gemini-1.5-pro, gemini-1.5-flash
      max_tokens: 1024
      temperature: 0.3

  # Summary Behavior
  behavior:
    # Maximum summary length in characters (default: 500)
    max_summary_length: 500

    # Only summarize high-priority emails (saves API costs)
    priority_only: false

    # Cache summaries to avoid re-generating for same email
    enable_cache: true

    # Timeout for AI API calls in seconds
    timeout_seconds: 15

    # Retry failed requests (network issues, rate limits)
    retry_attempts: 2

    # Include summary in notifications
    include_in_notifications: true

    # Show AI icon in tray for summarized emails
    show_ai_icon: true

  # Rate Limiting (to control costs)
  rate_limit:
    # Maximum summaries per hour (0 = unlimited)
    max_per_hour: 60

    # Maximum summaries per day (0 = unlimited)
    max_per_day: 500

  # Prompt Customization (Advanced)
  prompt:
    system: |
      You are an email analysis assistant. Extract key information from emails concisely.

    user_template: |
      Analyze this email and provide:
      1. Summary (max {{.MaxLength}} characters)
      2. Questions (if any are asked in the email)
      3. Action Items (if any actions are requested)

      Email Details:
      From: {{.Sender}}
      Subject: {{.Subject}}
      Content: {{.Body}}

      Format your response as JSON:
      {
        "summary": "brief overview here",
        "questions": ["question 1", "question 2"],
        "action_items": ["action 1", "action 2"]
      }

# Configuration Tips:
#
# 1. Quick Start (FREE - Using Gemini)
#    a) Get free API key: https://makersuite.google.com/app/apikey
#    b) Set environment variable:
#       - Windows: setx GEMINI_API_KEY "your-key-here"
#       - Linux/Mac: export GEMINI_API_KEY="your-key-here"
#    c) Set enabled: true (above)
#    d) Run: email-sentinel start --ai-summary --tray
#
# 2. API Keys for Other Providers
#    - Claude: https://console.anthropic.com/ â†’ export ANTHROPIC_API_KEY="..."
#    - OpenAI: https://platform.openai.com/api-keys â†’ export OPENAI_API_KEY="..."
#
# 3. Model Selection
#    - Gemini Flash: FREE (generous free tier, fast)
#    - Claude Haiku: $0.25/$1.25 per 1M tokens (fast, cost-effective)
#    - GPT-4o-mini: $0.15/$0.60 per 1M tokens (fast, affordable)
#
# 4. Cost Optimization
#    - Use Gemini Flash (free tier)
#    - Set priority_only: true to only summarize urgent emails
#    - Enable caching to avoid duplicate API calls
#    - Set reasonable rate limits
#
# 5. Testing
#    email-sentinel start --ai-summary --tray
#    (Watch for: ðŸ¤– AI: <summary appears here>)
